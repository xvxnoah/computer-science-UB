{"payload":{"allShortcutsEnabled":true,"fileTree":{"":{"items":[{"name":"figures","path":"figures","contentType":"directory"},{"name":".gitignore","path":".gitignore","contentType":"file"},{"name":"LICENSE","path":"LICENSE","contentType":"file"},{"name":"README.md","path":"README.md","contentType":"file"},{"name":"Sessio_1.md","path":"Sessio_1.md","contentType":"file"},{"name":"Sessio_2.md","path":"Sessio_2.md","contentType":"file"},{"name":"Sessio_3.md","path":"Sessio_3.md","contentType":"file"},{"name":"Sessio_4.md","path":"Sessio_4.md","contentType":"file"},{"name":"Sessio_5.md","path":"Sessio_5.md","contentType":"file"},{"name":"requeriments.txt","path":"requeriments.txt","contentType":"file"}],"totalCount":10}},"fileTreeProcessingTime":16.091492,"foldersToFetch":[],"reducedMotionEnabled":"system","repo":{"id":621772114,"defaultBranch":"main","name":"P2","ownerLogin":"SoftwareDistribuitUB-2023","currentUserCanPush":false,"isFork":false,"isEmpty":false,"createdAt":"2023-03-31T12:59:15.000+02:00","ownerAvatar":"https://avatars.githubusercontent.com/u/124935642?v=4","public":true,"private":false},"refInfo":{"name":"main","listCacheKey":"v0:1680260356.142694","canEdit":true,"refType":"branch","currentOid":"dd22b7246eb4b33bcee18620bbd9d63a1e21d9b3"},"path":"Sessio_3.md","currentUser":{"id":47271218,"login":"xvxnoah","userEmail":"noahmv59@gmail.com"},"blob":{"rawBlob":null,"colorizedLines":null,"stylingDirectives":null,"csv":null,"csvError":null,"dependabotInfo":{"showConfigurationBanner":false,"configFilePath":null,"networkDependabotPath":"/SoftwareDistribuitUB-2023/P2/network/updates","dismissConfigurationNoticePath":"/settings/dismiss-notice/dependabot_configuration_notice","configurationNoticeDismissed":false,"repoAlertsPath":"/SoftwareDistribuitUB-2023/P2/security/dependabot","repoSecurityAndAnalysisPath":"/SoftwareDistribuitUB-2023/P2/settings/security_analysis","repoOwnerIsOrg":true,"currentUserCanAdminRepo":false},"displayName":"Sessio_3.md","displayUrl":"https://github.com/SoftwareDistribuitUB-2023/P2/blob/main/Sessio_3.md?raw=true","headerInfo":{"blobSize":"9.94 KB","deleteInfo":{"deletePath":"https://github.com/SoftwareDistribuitUB-2023/P2/delete/main/Sessio_3.md","deleteTooltip":"Fork this repository and delete the file"},"editInfo":{"editTooltip":"Fork this repository and edit the file"},"ghDesktopPath":"x-github-client://openRepo/https://github.com/SoftwareDistribuitUB-2023/P2?branch=main&filepath=Sessio_3.md","gitLfsPath":null,"onBranch":true,"shortPath":"f7fddcd","siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2FSoftwareDistribuitUB-2023%2FP2%2Fblob%2Fmain%2FSessio_3.md","isCSV":false,"isRichtext":true,"toc":[{"level":1,"text":"Sessió 3","anchor":"sessió-3","htmlText":"Sessió 3"},{"level":2,"text":"Diseeny Web","anchor":"diseeny-web","htmlText":"Diseeny Web"},{"level":2,"text":"Introducció a Vue","anchor":"introducció-a-vue","htmlText":"Introducció a Vue"},{"level":2,"text":"Instal·lació de Vue","anchor":"installació-de-vue","htmlText":"Instal·lació de Vue"},{"level":2,"text":"Crear i configurar un entorn de projecte","anchor":"crear-i-configurar-un-entorn-de-projecte","htmlText":"Crear i configurar un entorn de projecte"},{"level":2,"text":"Hello world in Vue","anchor":"hello-world-in-vue","htmlText":"Hello world in Vue"},{"level":2,"text":"Crear un component","anchor":"crear-un-component","htmlText":"Crear un component"},{"level":2,"text":"Bootstrap","anchor":"bootstrap","htmlText":"Bootstrap"},{"level":2,"text":"Mètodes","anchor":"mètodes","htmlText":"Mètodes"},{"level":3,"text":"Exercici 1","anchor":"exercici-1","htmlText":"Exercici 1"},{"level":3,"text":"Exercici 2","anchor":"exercici-2","htmlText":"Exercici 2"},{"level":2,"text":"Conectant Vue i FASTApi","anchor":"conectant-vue-i-fastapi","htmlText":"Conectant Vue i FASTApi"},{"level":3,"text":"Activant CORS (Cross-Origin Resource Sharing)","anchor":"activant-cors-cross-origin-resource-sharing","htmlText":"Activant CORS (Cross-Origin Resource Sharing)"},{"level":3,"text":"Configurant els directoris static de FASTAPI.","anchor":"configurant-els-directoris-static-de-fastapi","htmlText":"Configurant els directoris static de FASTAPI."}],"lineInfo":{"truncatedLoc":"331","truncatedSloc":"222"},"mode":"executable file"},"image":false,"isCodeownersFile":null,"isValidLegacyIssueTemplate":false,"issueTemplateHelpUrl":"https://docs.github.com/articles/about-issue-and-pull-request-templates","issueTemplate":null,"discussionTemplate":null,"language":"Markdown","large":false,"loggedIn":true,"newDiscussionPath":"/SoftwareDistribuitUB-2023/P2/discussions/new","newIssuePath":"/SoftwareDistribuitUB-2023/P2/issues/new","planSupportInfo":{"repoIsFork":null,"repoOwnedByCurrentUser":null,"requestFullPath":"/SoftwareDistribuitUB-2023/P2/blob/main/Sessio_3.md","showFreeOrgGatedFeatureMessage":null,"showPlanSupportBanner":null,"upgradeDataAttributes":null,"upgradePath":null},"publishBannersInfo":{"dismissActionNoticePath":"/settings/dismiss-notice/publish_action_from_dockerfile","dismissStackNoticePath":"/settings/dismiss-notice/publish_stack_from_file","releasePath":"/SoftwareDistribuitUB-2023/P2/releases/new?marketplace=true","showPublishActionBanner":false,"showPublishStackBanner":false},"renderImageOrRaw":false,"richText":"<article class=\"markdown-body entry-content container-lg\" itemprop=\"text\"><h1 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-sessió-3\" class=\"anchor\" aria-hidden=\"true\" href=\"#sessió-3\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Sessió 3</h1>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-diseeny-web\" class=\"anchor\" aria-hidden=\"true\" href=\"#diseeny-web\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Diseeny Web</h2>\n<p dir=\"auto\">En aquesta segona part de la pràctica, desenvoluparem el frontend de la nostra aplicació.\nAl final de la sessió 5 hauríem de veure una pàgina web amb els mateixos elements que el següent exemple:</p>\n<p dir=\"auto\"><strong>Vista LOG IN</strong></p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/SoftwareDistribuitUB-2023/P2/blob/main/figures/sessio-3_final-signin.png\"><img src=\"/SoftwareDistribuitUB-2023/P2/raw/main/figures/sessio-3_final-signin.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\"><strong>Vista Matches sense usuari Loggat</strong></p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/SoftwareDistribuitUB-2023/P2/blob/main/figures/sessio-3_final-matches.png\"><img src=\"/SoftwareDistribuitUB-2023/P2/raw/main/figures/sessio-3_final-matches.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\"><strong>Vista Matches amb l'usuari loggat</strong></p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/SoftwareDistribuitUB-2023/P2/blob/main/figures/sessio-3_final-matches-user.png\"><img src=\"/SoftwareDistribuitUB-2023/P2/raw/main/figures/sessio-3_final-matches-user.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\"><strong>Vista de la Cistella de la Compra</strong></p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/SoftwareDistribuitUB-2023/P2/blob/main/figures/sessio-3_final-shopping-cart.png\"><img src=\"/SoftwareDistribuitUB-2023/P2/raw/main/figures/sessio-3_final-shopping-cart.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-introducció-a-vue\" class=\"anchor\" aria-hidden=\"true\" href=\"#introducció-a-vue\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Introducció a Vue</h2>\n<p dir=\"auto\">Vue és un framework progressiu per construir interfícies d'usuari, és a dir,\nal costat del client. Tot i que Vue és més senzill que React o Angular, és\nextremadament potent i es pot utilitzar per crear aplicacions avançades i\nofereix la creació de projectes de manera estructurada. Consisteix en un conjunt de\nbiblioteques opcionals i biblioteques de tercers, i compta amb una\ncomunitat en creixement. A més, Vue s'està convertint en molt popular i té un futur brillant.</p>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-installació-de-vue\" class=\"anchor\" aria-hidden=\"true\" href=\"#installació-de-vue\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Instal·lació de Vue</h2>\n<p dir=\"auto\">Els següents passos s'han desenvolupat a la versió  5.0.4 de vue/cli, node.js versió 14.16.1 i npm versió v6.14.12.\nDesprés d’instal·lar Vue, comprovem la versió del node:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"node --version\"><pre class=\"notranslate\"><code>node --version\n</code></pre></div>\n<p dir=\"auto\">Si encara no teniu el node instal·lat o teniu una versió antiga, aneu a\n<a href=\"https://nodejs.org/en/download/\" rel=\"nofollow\">https://nodejs.org/en/download/</a> i instal·leu el paquet. Per verificar la instal·lació, feu servir les línies d’ordres següents:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"node --version\nnpm --version\"><pre class=\"notranslate\"><code>node --version\nnpm --version\n</code></pre></div>\n<p dir=\"auto\">En cas que estigueu a Linux, haureu d'instal·lar Node Version Manager (NVM).\nUs permetrà triar una versió de node específica. Per instal·lar-lo, podeu seguir aquesta guia:\n<a href=\"https://phoenixnap.com/kb/install-latest-node-js-and-nmp-on-ubuntu\" rel=\"nofollow\">https://phoenixnap.com/kb/install-latest-node-js-and-nmp-on-ubuntu</a>.</p>\n<p dir=\"auto\">Hi ha alguns mètodes d'instal·lació per instal·lar Vue, en aquest cas l'instal·larem a través de Vue CLI.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\" npm install -g @vue/cli\n npm install -g @vue/cli-init\"><pre class=\"notranslate\"><code> npm install -g @vue/cli\n npm install -g @vue/cli-init\n</code></pre></div>\n<p dir=\"auto\">Per obtenir més assistència, consulteu la següent guia d'instal·lació:\n<a href=\"https://cli.vuejs.org/guide/installation.html\" rel=\"nofollow\">https://cli.vuejs.org/guide/installation.html</a>.\nDesprés de la instal·lació, comproveu amb la línia d'ordres:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"vue --version\"><pre class=\"notranslate\"><code>vue --version\n</code></pre></div>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-crear-i-configurar-un-entorn-de-projecte\" class=\"anchor\" aria-hidden=\"true\" href=\"#crear-i-configurar-un-entorn-de-projecte\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Crear i configurar un entorn de projecte</h2>\n<p dir=\"auto\">Primer de tot, aneu a la carpeta desitjada on voleu guardar el projecte. Després d'això, executeu a la línia d'ordres</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"vue init webpack &lt;name-project&gt;\"><pre class=\"notranslate\"><code>vue init webpack &lt;name-project&gt;\n</code></pre></div>\n<p dir=\"auto\">per exemple:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"vue init webpack frontend\"><pre class=\"notranslate\"><code>vue init webpack frontend\n</code></pre></div>\n<p dir=\"auto\">Seleccioneu la configuració tal com es mostra a\nimatge següent:</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/SoftwareDistribuitUB-2023/P2/blob/main/figures/sessio-3_vue-init.png\"><img src=\"/SoftwareDistribuitUB-2023/P2/raw/main/figures/sessio-3_vue-init.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">Podeu interactuar amb les fletxes, les tecles d'entrada i l'espai.\nUn cop creat el projecte, parem atenció als fitxers principals. La carpeta <code>/ src</code> té la següent estructura:</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/SoftwareDistribuitUB-2023/P2/blob/main/figures/sessio-3_src.png\"><img src=\"/SoftwareDistribuitUB-2023/P2/raw/main/figures/sessio-3_src.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<ul dir=\"auto\">\n<li>\n<p dir=\"auto\"><strong>App.vue</strong>: s'encarrega de representar els components</p>\n</li>\n<li>\n<p dir=\"auto\"><strong>assets</strong>: on deseu tots els recursos, com ara imatges</p>\n</li>\n<li>\n<p dir=\"auto\"><strong>components</strong>: tots els components dels projectes. Tots els components tenen la seva pròpia plantilla html i codi JavaScript</p>\n</li>\n<li>\n<p dir=\"auto\"><strong>main.js</strong>: inicialitza i configura l'aplicació Vue</p>\n</li>\n<li>\n<p dir=\"auto\"><strong>index.js</strong>: enruta els components del vostre projecte</p>\n</li>\n</ul>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-hello-world-in-vue\" class=\"anchor\" aria-hidden=\"true\" href=\"#hello-world-in-vue\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Hello world in Vue</h2>\n<p dir=\"auto\">Per executar la nostra primera aplicació Vue:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"cd &lt;name-project&gt;\nnpm run dev\"><pre class=\"notranslate\"><code>cd &lt;name-project&gt;\nnpm run dev\n</code></pre></div>\n<p dir=\"auto\">En cas que feu servir el WebStorm de JetBrains, obriu el projecte anomenat frontend i creu una configuració  amb el boto de Run. Feu que sigui del tipus npm i l'script dev.</p>\n<p dir=\"auto\">Després d'executar aquestes línies d'ordres, aneu a <a href=\"http://localhost:8080/\" rel=\"nofollow\">http://localhost:8080/</a> al navegador.</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/SoftwareDistribuitUB-2023/P2/blob/main/figures/sessio-3_vue-cli.png\"><img src=\"/SoftwareDistribuitUB-2023/P2/raw/main/figures/sessio-3_vue-cli.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/SoftwareDistribuitUB-2023/P2/blob/main/figures/sessio-3_vue.png\"><img src=\"/SoftwareDistribuitUB-2023/P2/raw/main/figures/sessio-3_vue.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-crear-un-component\" class=\"anchor\" aria-hidden=\"true\" href=\"#crear-un-component\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Crear un component</h2>\n<p dir=\"auto\">Hem vist com executar un projecte. Ara veurem com crear el nostre propi component. Canvieu la plantilla html del fitxer <code>App.vue</code> com:</p>\n<div class=\"highlight highlight-text-html-basic notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"&lt;template&gt;\n    &lt;router-view/&gt;\n&lt;/template&gt;\n\"><pre><span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">template</span><span class=\"pl-kos\">&gt;</span>\n    <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">router-view</span>/&gt;\n<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">template</span><span class=\"pl-kos\">&gt;</span></pre></div>\n<p dir=\"auto\">A més, creeu un component nou anomenat <code>Matches.vue</code> a la carpeta de components. En aquest fitxer, copieu i enganxeu el codi següent:</p>\n<div class=\"highlight highlight-text-html-basic notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"&lt;template&gt;\n  &lt;div id=&quot;app&quot;&gt;\n    &lt;h1&gt; {{ message }} &lt;/h1&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n\nexport default {\n  data () {\n    return {\n      message: 'My first component'\n    }\n  }\n}\n\n&lt;/script&gt;\n\"><pre><span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">template</span><span class=\"pl-kos\">&gt;</span>\n  <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">div</span> <span class=\"pl-c1\">id</span>=\"<span class=\"pl-s\">app</span>\"<span class=\"pl-kos\">&gt;</span>\n    <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">h1</span><span class=\"pl-kos\">&gt;</span> {{ message }} <span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">h1</span><span class=\"pl-kos\">&gt;</span>\n  <span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">div</span><span class=\"pl-kos\">&gt;</span>\n<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">template</span><span class=\"pl-kos\">&gt;</span>\n\n<span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">script</span><span class=\"pl-kos\">&gt;</span>\n\n<span class=\"pl-k\">export</span> <span class=\"pl-k\">default</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-en\">data</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-c1\">message</span>: <span class=\"pl-s\">'My first component'</span>\n    <span class=\"pl-kos\">}</span>\n  <span class=\"pl-kos\">}</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">script</span><span class=\"pl-kos\">&gt;</span></pre></div>\n<p dir=\"auto\">Com podeu veure aquí, tenim dos blocs anomenats \"template\" i \"script\". Com hem esmentat anteriorment, el primer bloc correspon a la visualització en html i el segon pertany al codi JavaScript. A \"return\" podem declarar les variables que utilitzarem al codi. També podeu interactuar incloent-hi les referències de codi a la plantilla html.\nParal·lelament, aneu a <code>index.js</code> per encaminar el nou component:</p>\n<div class=\"highlight highlight-text-html-basic notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"import Vue from 'vue'\nimport Router from 'vue-router'\nimport Matches from '@/components/Matches'\n\nVue.use(Router)\n\nexport default new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [\n    {\n      path: '/',\n      name: 'Matches',\n      component: Matches\n    }\n  ]\n})\n\"><pre>import Vue from 'vue'\nimport Router from 'vue-router'\nimport Matches from '@/components/Matches'\n\nVue.use(Router)\n\nexport default new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [\n    {\n      path: '/',\n      name: 'Matches',\n      component: Matches\n    }\n  ]\n})</pre></div>\n<p dir=\"auto\">Comprovem el nostre nou component <a href=\"http://localhost:8080/\" rel=\"nofollow\">http://localhost:8080/</a></p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/SoftwareDistribuitUB-2023/P2/blob/main/figures/sessio-3_first-component.png\"><img src=\"/SoftwareDistribuitUB-2023/P2/raw/main/figures/sessio-3_first-component.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-bootstrap\" class=\"anchor\" aria-hidden=\"true\" href=\"#bootstrap\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Bootstrap</h2>\n<p dir=\"auto\">Bootstrap (<a href=\"https://www.w3schools.com/whatis/whatis_bootstrap.asp\" rel=\"nofollow\">https://www.w3schools.com/whatis/whatis_bootstrap.asp</a>) és el framework CSS més popular per al desenvolupament de llocs web responsius i per a mòbils. Conté plantilles de disseny basades en CSS i JavaScript per a tipografia, formularis, botons, navegació i altres components de la interfície.</p>\n<p dir=\"auto\">Per instal·lar-lo al nostre projecte, executeu la comanda següent en la línia d'ordres:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"npm install --save bootstrap-vue\"><pre class=\"notranslate\"><code>npm install --save bootstrap-vue\n</code></pre></div>\n<p dir=\"auto\">A més, descarregueu els fitxers compilats <a href=\"https://getbootstrap.com/docs/4.0/getting-started/download/\" rel=\"nofollow\">aquí</a>. Extreu els fitxers a una carpeta nova anomenada bootstrap dins del vostre projecte:</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/SoftwareDistribuitUB-2023/P2/blob/main/figures/sessio-3_bootstrap.png\"><img src=\"/SoftwareDistribuitUB-2023/P2/raw/main/figures/sessio-3_bootstrap.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">Després de la instal·lació, configureu el fitxer <code>main.js</code> important el Bootstrap:</p>\n<div class=\"highlight highlight-text-html-basic notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"import BootstrapVue from 'bootstrap-vue'\nimport '@/../bootstrap/css/bootstrap.css'\nimport Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\n\nVue.use(BootstrapVue)\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '&lt;App/&gt;'\n})\n\"><pre>import BootstrapVue from 'bootstrap-vue'\nimport '@/../bootstrap/css/bootstrap.css'\nimport Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\n\nVue.use(BootstrapVue)\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">App</span>/&gt;'\n})</pre></div>\n<p dir=\"auto\">Ara podem consumir les plantilles Bootstrap predefinides.</p>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-mètodes\" class=\"anchor\" aria-hidden=\"true\" href=\"#mètodes\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Mètodes</h2>\n<p dir=\"auto\">A part de les variables, també podem definir mètodes i utilitzar-los en un bloc d'html. Definim una variable anomenada <code>tickets_bought</code> i un mètode\nper incrementar aquest valor mitjançant un botó de Bootstrap a <code>Matches.vue</code>.</p>\n<div class=\"highlight highlight-text-html-basic notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"&lt;template&gt;\n  &lt;div id=&quot;app&quot;&gt;\n    &lt;h1&gt; {{ message }} &lt;/h1&gt;\n    &lt;button class=&quot;btn btn-success btn-lg&quot; @click=&quot;buyTicket&quot;&gt; Buy ticket &lt;/button&gt;\n    &lt;h4&gt; Total tickets bought: {{ tickets_bought }} &lt;/h4&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n\nexport default {\n  data () {\n    return {\n      message: 'My first component',\n      tickets_bought: 0\n    }\n  },\n  methods: {\n    buyTicket () {\n      this.tickets_bought += 1\n    }\n  }\n}\n\n&lt;/script&gt;\"><pre><span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">template</span><span class=\"pl-kos\">&gt;</span>\n  <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">div</span> <span class=\"pl-c1\">id</span>=\"<span class=\"pl-s\">app</span>\"<span class=\"pl-kos\">&gt;</span>\n    <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">h1</span><span class=\"pl-kos\">&gt;</span> {{ message }} <span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">h1</span><span class=\"pl-kos\">&gt;</span>\n    <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">button</span> <span class=\"pl-c1\">class</span>=\"<span class=\"pl-s\">btn btn-success btn-lg</span>\" <span class=\"pl-c1\">@click</span>=\"<span class=\"pl-s\">buyTicket</span>\"<span class=\"pl-kos\">&gt;</span> Buy ticket <span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">button</span><span class=\"pl-kos\">&gt;</span>\n    <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">h4</span><span class=\"pl-kos\">&gt;</span> Total tickets bought: {{ tickets_bought }} <span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">h4</span><span class=\"pl-kos\">&gt;</span>\n  <span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">div</span><span class=\"pl-kos\">&gt;</span>\n<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">template</span><span class=\"pl-kos\">&gt;</span>\n\n<span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">script</span><span class=\"pl-kos\">&gt;</span>\n\n<span class=\"pl-k\">export</span> <span class=\"pl-k\">default</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-en\">data</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-c1\">message</span>: <span class=\"pl-s\">'My first component'</span><span class=\"pl-kos\">,</span>\n      <span class=\"pl-c1\">tickets_bought</span>: <span class=\"pl-c1\">0</span>\n    <span class=\"pl-kos\">}</span>\n  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-c1\">methods</span>: <span class=\"pl-kos\">{</span>\n    <span class=\"pl-en\">buyTicket</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-smi\">this</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">tickets_bought</span> <span class=\"pl-c1\">+=</span> <span class=\"pl-c1\">1</span>\n    <span class=\"pl-kos\">}</span>\n  <span class=\"pl-kos\">}</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">script</span><span class=\"pl-kos\">&gt;</span></pre></div>\n<p dir=\"auto\">Com podeu veure, també podeu cridar a mètodes en un bloc html mitjançant <code>@click = \"buyTickets\"</code>, com en aquest cas.</p>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-exercici-1\" class=\"anchor\" aria-hidden=\"true\" href=\"#exercici-1\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Exercici 1</h3>\n<p dir=\"auto\">Declareu un mètode per restar el total d’entrades comprades de les entrades totals. (i el botó d’interacció que s’anomena <code>Return Ticket</code>). A més, afegiu una variable <code>money_available</code> i <code>price_match</code> i resteu el preu de cada espectacle a la variable <code>money_available</code>. Utilitzeu el preu, els diners disponibles i les entrades diponibles que vulgueu. Mostra-ho al lloc web.</p>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-exercici-2\" class=\"anchor\" aria-hidden=\"true\" href=\"#exercici-2\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Exercici 2</h3>\n<p dir=\"auto\">Desactiveu el botó de compra si els diners disponibles no són suficients per comprar un ticket.\nD’altra banda, desactiveu el botó de ticket si el total de bitllets és 0.\nPer fer-ho, podeu utilitzar la propietat <code>:disabled=\"variable1 &lt; variable2\"</code> en els botons.</p>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-conectant-vue-i-fastapi\" class=\"anchor\" aria-hidden=\"true\" href=\"#conectant-vue-i-fastapi\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Conectant Vue i FASTApi</h2>\n<p dir=\"auto\">Ara hem de connectar el Framework de Frontend de VUE (node.js) amb el Framework de Backend de FASTApi (python). Però primer haurem de permetre que es puguin fer \"requests\" des del client (javascript del navegador) al servidor web. Per això haurem de permetre-ho en el nostre backend de FAST-API.</p>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-activant-cors-cross-origin-resource-sharing\" class=\"anchor\" aria-hidden=\"true\" href=\"#activant-cors-cross-origin-resource-sharing\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Activant CORS (Cross-Origin Resource Sharing)</h3>\n<p dir=\"auto\">CORS és el mecanisme per gestionar les sol·licituds d’origen creuat. Una sol·licitud de recurs de fora de l’origen es coneix com a sol·licitud d’origen creuat. En aquesta pràctica, crearem una aplicació de frontend que sol·licitarà informació a FASTApi.</p>\n<p dir=\"auto\">Importeu el CORSMiddleWare i configureu l'aplicació per tal d'acceptar sol·licituds de tots els orígens:</p>\n<div class=\"highlight highlight-source-python notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"from fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\n\napp = FastAPI()\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[&quot;*&quot;],\n    allow_credentials=True,\n    allow_methods=[&quot;*&quot;],\n    allow_headers=[&quot;*&quot;],\n)\n\n@app.get(&quot;/&quot;)\nasync def main():\n    return {&quot;message&quot;: &quot;Hello World&quot;}\n...\"><pre><span class=\"pl-k\">from</span> <span class=\"pl-s1\">fastapi</span> <span class=\"pl-k\">import</span> <span class=\"pl-v\">FastAPI</span>\n<span class=\"pl-k\">from</span> <span class=\"pl-s1\">fastapi</span>.<span class=\"pl-s1\">middleware</span>.<span class=\"pl-s1\">cors</span> <span class=\"pl-k\">import</span> <span class=\"pl-v\">CORSMiddleware</span>\n\n<span class=\"pl-s1\">app</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">FastAPI</span>()\n\n<span class=\"pl-s1\">app</span>.<span class=\"pl-en\">add_middleware</span>(\n    <span class=\"pl-v\">CORSMiddleware</span>,\n    <span class=\"pl-s1\">allow_origins</span><span class=\"pl-c1\">=</span>[<span class=\"pl-s\">\"*\"</span>],\n    <span class=\"pl-s1\">allow_credentials</span><span class=\"pl-c1\">=</span><span class=\"pl-c1\">True</span>,\n    <span class=\"pl-s1\">allow_methods</span><span class=\"pl-c1\">=</span>[<span class=\"pl-s\">\"*\"</span>],\n    <span class=\"pl-s1\">allow_headers</span><span class=\"pl-c1\">=</span>[<span class=\"pl-s\">\"*\"</span>],\n)\n\n<span class=\"pl-en\">@<span class=\"pl-s1\">app</span>.<span class=\"pl-en\">get</span>(<span class=\"pl-s\">\"/\"</span>)</span>\n<span class=\"pl-k\">async</span> <span class=\"pl-k\">def</span> <span class=\"pl-en\">main</span>():\n    <span class=\"pl-k\">return</span> {<span class=\"pl-s\">\"message\"</span>: <span class=\"pl-s\">\"Hello World\"</span>}\n...</pre></div>\n<p dir=\"auto\">Així doncs, així concediu accés a l’aplicació FastAPI des de l’exterior.</p>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-configurant-els-directoris-static-de-fastapi\" class=\"anchor\" aria-hidden=\"true\" href=\"#configurant-els-directoris-static-de-fastapi\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Configurant els directoris static de FASTAPI.</h3>\n<p dir=\"auto\">Primer de tot, aneu a la vostra aplicació Vue i compileu el vostre codi amb la línia següent:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"npm run build\"><pre class=\"notranslate\"><code>npm run build\n</code></pre></div>\n<p dir=\"auto\">Amb WebStorm podeu crear una nova configuració d'execució npm run i amb la comanda build.</p>\n<p dir=\"auto\">Es crearà una nova carpeta anomenada <strong>dist</strong> on podrem trobar el codi frontend del nostre projecte (HTML, CSS, JS). Ara, la nostra aplicació Vue té l'estructura següent:</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/SoftwareDistribuitUB-2023/P2/blob/main/figures/sessio-3_dist.png\"><img src=\"/SoftwareDistribuitUB-2023/P2/raw/main/figures/sessio-3_dist.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">Ara és hora d’indicar a FASTapi els camins a consumir des de <code>main.py</code>:</p>\n<div class=\"highlight highlight-source-python notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"from fastapi import FastAPI\nfrom fastapi.staticfiles import StaticFiles\n\napp = FastAPI()\n\napp.mount(&quot;/static&quot;, StaticFiles(directory=&quot;frontend/dist/static&quot;), name=&quot;static&quot;)\n)\"><pre><span class=\"pl-k\">from</span> <span class=\"pl-s1\">fastapi</span> <span class=\"pl-k\">import</span> <span class=\"pl-v\">FastAPI</span>\n<span class=\"pl-k\">from</span> <span class=\"pl-s1\">fastapi</span>.<span class=\"pl-s1\">staticfiles</span> <span class=\"pl-k\">import</span> <span class=\"pl-v\">StaticFiles</span>\n\n<span class=\"pl-s1\">app</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">FastAPI</span>()\n\n<span class=\"pl-s1\">app</span>.<span class=\"pl-en\">mount</span>(<span class=\"pl-s\">\"/static\"</span>, <span class=\"pl-v\">StaticFiles</span>(<span class=\"pl-s1\">directory</span><span class=\"pl-c1\">=</span><span class=\"pl-s\">\"frontend/dist/static\"</span>), <span class=\"pl-s1\">name</span><span class=\"pl-c1\">=</span><span class=\"pl-s\">\"static\"</span>)\n)</pre></div>\n<p dir=\"auto\">I declareu una ruta per renderitzar la plantilla:</p>\n<div class=\"highlight highlight-source-python notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"from fastapi import FastAPI, Request\nfrom fastapi.templating import Jinja2Templates\nfrom fastapi.staticfiles import StaticFiles\n\n\ntemplates = Jinja2Templates(directory=&quot;frontend/dist&quot;) \n@app.get(&quot;/&quot;)\nasync def serve_index(request: Request):\n    return templates.TemplateResponse(&quot;index.html&quot;, {&quot;request&quot;: request})\"><pre><span class=\"pl-k\">from</span> <span class=\"pl-s1\">fastapi</span> <span class=\"pl-k\">import</span> <span class=\"pl-v\">FastAPI</span>, <span class=\"pl-v\">Request</span>\n<span class=\"pl-k\">from</span> <span class=\"pl-s1\">fastapi</span>.<span class=\"pl-s1\">templating</span> <span class=\"pl-k\">import</span> <span class=\"pl-v\">Jinja2Templates</span>\n<span class=\"pl-k\">from</span> <span class=\"pl-s1\">fastapi</span>.<span class=\"pl-s1\">staticfiles</span> <span class=\"pl-k\">import</span> <span class=\"pl-v\">StaticFiles</span>\n\n\n<span class=\"pl-s1\">templates</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Jinja2Templates</span>(<span class=\"pl-s1\">directory</span><span class=\"pl-c1\">=</span><span class=\"pl-s\">\"frontend/dist\"</span>) \n<span class=\"pl-en\">@<span class=\"pl-s1\">app</span>.<span class=\"pl-en\">get</span>(<span class=\"pl-s\">\"/\"</span>)</span>\n<span class=\"pl-k\">async</span> <span class=\"pl-k\">def</span> <span class=\"pl-en\">serve_index</span>(<span class=\"pl-s1\">request</span>: <span class=\"pl-v\">Request</span>):\n    <span class=\"pl-k\">return</span> <span class=\"pl-s1\">templates</span>.<span class=\"pl-v\">TemplateResponse</span>(<span class=\"pl-s\">\"index.html\"</span>, {<span class=\"pl-s\">\"request\"</span>: <span class=\"pl-s1\">request</span>})</pre></div>\n<p dir=\"auto\">Si executeu l'aplicació FASTapi i obriu <a href=\"http://127.0.0.1:8000/\" rel=\"nofollow\">http://127.0.0.1:8000/</a>, hauríeu de veure l'última configuració de Vue però allotjada a l'aplicació FastAPI:</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/SoftwareDistribuitUB-2023/P2/blob/main/figures/sessio-3_buy-ticket.png\"><img src=\"/SoftwareDistribuitUB-2023/P2/raw/main/figures/sessio-3_buy-ticket.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n</article>","renderedFileInfo":null,"tabSize":8,"topBannersInfo":{"overridingGlobalFundingFile":false,"globalPreferredFundingPath":null,"repoOwner":"SoftwareDistribuitUB-2023","repoName":"P2","showInvalidCitationWarning":false,"citationHelpUrl":"https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-citation-files","showDependabotConfigurationBanner":false,"actionsOnboardingTip":null},"truncated":false,"viewable":true,"workflowRedirectUrl":null,"symbols":{"timedOut":false,"notAnalyzed":true,"symbols":[]}},"csrf_tokens":{"/SoftwareDistribuitUB-2023/P2/branches":{"post":"RVDn_-xW1nIYMqnIa2qvs5Tzovq9mNAnl7sebN-PuoGNvoDxrS8wIbK_ZOocmg5nH_eo9lHgTtbHAZiCYOnvyg"}}},"title":"P2/Sessio_3.md at main · SoftwareDistribuitUB-2023/P2","locale":"en"}